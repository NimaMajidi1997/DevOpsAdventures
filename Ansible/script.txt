Here is the way to setup the Ansible:

in each VM which is based on the Ubuntu server, use:

ip addr show

open Terminal, and open a new terminal window: ctrl + shift + T, then use ssh to connect to each VM.

sudo apt update
sudo apt install ansible

To check if these packages are available:
command -v ansible
command -v apt

we are in ubuntu-WS:

nano inventory --> the ip addr for the other ubuntu server that we would like to manage

ssh-keygen:
/home/nima/.ssh/ansible

To copy the pub key from ws to server: ssh-copy-id -i ~/.ssh/ansible **.**.**.**
To run the ssh-agen in ram: eval $(ssh-agent)
and then: ssh-add ~/.ssh/ansible
now we do not need password to connect to the server

more easier:
nano ~/.bashrc:
    alias ssha='eval $(ssh-agent) && ssh-add ~/.ssh/ansible'

exec bash
ssha

ansible all --key-file ~/.ssh/ansible -i inventory -m ping


ansible all -m ping

ansible all --list-hosts
ansible all -m gather_facts
ansible all -m gather_facts --limit **.**.**.**


ansible all -m apt -a update_cache=true
ansible all -m apt -a update_cache=true --become --ask-become-pass
ansible all -m apt -a "name=vim-nox" --become --ask-become-pass
ansible all -m apt -a "name=vim-nox state=latest" --become --ask-become-pass
ansible all -m apt -a upgrade=dist --become --ask-become-pass

ansible-playbook --ask-become-pass install_apache.yml
ansible-playbook --tags db --ask-become-pass install_apache.yml

ansible.builtin.package --> for different distributions